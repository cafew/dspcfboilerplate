{"name":"DS Apps on PCF - Boilerplate Code","tagline":"Boilerplate code for flask apps on PCF that interact with a backend environment (ex: Pivotal BDS).","body":"Boilerplate for Flask Apps for Data Science on PCF\r\n===================================================\r\n\r\nThis repo contains boilerplate code for your to build your apps on PCF using Flask and psycopg2.\r\nYou can checkout this repo into a remote empty repo of your own on GitHub or elsewhere, and customize it appropriate to spin up your own app.\r\nFor instance, to use this boiletplate as the building block for your own PCF app, you can do the following:\r\n\r\n1. Create an empty repo on GitHub, let's call it MyApp and it's URL is `https://github.com/vatsan/myapp.git`\r\n2. Run `git clone https://github.com/vatsan/dspcfboilerplate.git`. This will clone the boilerplate repo into a local folder on your machine.\r\n3. Rename the cloned repo to whatever you choose it to be (ex: myapp) `mv dspcfboilerplate myapp`\r\n4. From your renamed directory containing the boilerplate (`myapp`), run the following to push the boilerplate code to your newly created GitHub repo `MyApp`\r\n\r\n        git remote add origin https://github.com/vatsan/myapp.git\r\n        git push origin master\r\n\r\n\r\nNow your repo `myapp`, will contain the boiletplate code. You may start customizing this repo for your app, going forward (ex: changing pplication name, author, contact info, images etc.)\r\n\r\nPre-requisites\r\n==============\r\n\r\nThe `conda_requirements.txt` file lists all the python packages that are available via `conda` and are pre-requisites for this app.\r\nThe `requirements.txt` file lists all python packages that are only available through `pip` and are pre-requisities for this app.\r\n\r\nCode Organization\r\n==================\r\n\r\n    dspcfboilerplate/ # root level folder containing all package files & app files\r\n        README.md # This file\r\n        conda_requirements.txt # file containing all `conda` packages needed by this app.\r\n        requirements.txt # file containing all `pip` packages needed by this app (not available via `conda`)\r\n        deploy # bash script to deploy this app (either locally or on PCF)\r\n        setup.py # python packaging tools\r\n        MANIFEST.in #Manifest file for python packaging (what files to include into the python package)\r\n        LICENSE.txt #License for this app    \r\n        predim/\r\n            server.py #Main module containing all controller code\r\n            static/\r\n               css/ #All user specified css. These will be bundled & minified into \"gen/user_css.css\" by Flask-Assets.    \r\n               data/   \r\n               img/    \r\n               js/ #All user specified javascript. These will all be bundled & minified into \"gen/user_js.js\" by Flask-Assets.    \r\n               vendor/ #All bootstrap.js related files (css & javascript)\r\n            templates/ #HTML templates\r\n               layout.html  #Base layout from which every page will inherit. This also contains javascript & css inserts\r\n               home.html #home page template\r\n               about.html #about page template\r\n               contact.html #contact page template\r\n\r\n\r\nStarting the app locally\r\n========================\r\n\r\n1. Create a file ```dspcfapp/user.cred``` with the relevant database access credentials like the following. This file will not be added to your version control (the `.gitignore` file will filter it out):\r\n\r\n        [database_creds]\r\n        host: <YOUR HOSTNAME>\r\n        port: <YOUR PORT>\r\n        user: <YOUR USERNAME>\r\n        database: <YOUR DATABASE>\r\n        password: <YOUR PASSWORD>\r\n\r\n\r\n2. Ensure your local machine can talk to the environment where the data resides in (ex: you may need to connect to a VPN if your data resides on a BDS cluster behind a firewall).\r\n3. Run the following from the root directory\r\n\r\n        ./deploy\r\n\r\nThis will bring up the app on `http://localhost:9090`\r\n\r\nPushing the app to PCF\r\n======================\r\n\r\n1. Push the app to your PCF instance (assuming you've set one up)\r\n\r\n        dsmiot [master●●] cf push dspcfboilerplate  -f manifest.yml    \r\n\r\n2. Create User Provided Service for database credentials (first time only)\r\n\r\n        dsmiot [master●●] cf cups dspcfboilerplatecreds -p '{\"host\":\"<HOST>\",\"user\":\"<USER>\",\"password\":\"<PASSWORD>\", \"databasename\":\"<DATABASE>\", \"port\":\"<PORT>\" }'\r\n\r\n3. Bind the User Provided Service to the app (first time only)\r\n\r\n        dsmiot [master●●] cf bind-service dspcfboilerplate dspcfboilerplatecreds\r\n\r\nThe app should now be accessible on your PCF instance. \r\n\r\nScreenshots\r\n============\r\n\r\nHere are some sample screenshots of the boilerplate app in action:\r\n\r\n![screen_1](/../gh-pages/images/dspcfboilerplate_screen_1.png)\r\n\r\n![screen_2](/../gh-pages/images/dspcfboilerplate_screen_2.png)\r\n\r\n![screen_3](/../gh-pages/images/dspcfboilerplate_screen_3.png)\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}